<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ê–†–¢–ï–õ–¨: –ì–õ–ê–í–ù–´–ô –¶–ï–•</title>
    
    <script src="https://unpkg.com/lucide@0.321.0/dist/umd/lucide.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>
    <script src="https://unpkg.com/alpinejs@3.13.5/dist/cdn.min.js" defer></script>

    <style>
        [x-cloak] { display: none !important; }
        :root { --blue-tape: #0047ab; --neon: #ff5e00; --steel: #bdc3c7; }
        body { background: #111; color: var(--steel); font-family: 'Courier New', monospace; margin: 0; padding-bottom: 90px; }
        
        .page { display: none; padding: 20px; }
        .active { display: block !important; }
        
        .gost-card { border: 1px solid var(--blue-tape); padding: 15px; margin-bottom: 10px; background: rgba(0,71,171,0.1); border-left: 4px solid var(--blue-tape); }
        .neon-text { color: var(--neon); text-shadow: 0 0 5px var(--neon); }
        
        .nav-bar { position: fixed; bottom: 0; width: 100%; background: #000; display: flex; justify-content: space-around; padding: 15px 0; border-top: 2px solid var(--blue-tape); box-shadow: 0 -5px 15px rgba(0,0,0,0.5); }
        .nav-item { color: #555; cursor: pointer; transition: 0.3s; }
        .nav-item.active-nav { color: var(--neon); transform: translateY(-5px); }
        
        table { width: 100%; border-collapse: collapse; font-size: 0.8rem; margin-top: 10px; }
        th, td { border: 1px solid #333; padding: 10px; text-align: center; }
        th { background: var(--blue-tape); color: white; }
        input { width: 100%; padding: 12px; background: #000; border: 1px solid var(--blue-tape); color: white; box-sizing: border-box; }
    </style>
</head>
<body x-data="artelCore" x-cloak>

    <header style="padding: 15px; text-align: center; background: #000; border-bottom: 1px solid var(--blue-tape);">
        <h1 style="margin: 0; font-size: 1rem; letter-spacing: 2px;" class="neon-text">üõ† –ê–†–¢–ï–õ–¨: –ì–õ–ê–í–ù–´–ô –¶–ï–•</h1>
    </header>

    <div :class="{ 'active': page === 1 }" class="page">
        <div class="gost-card">
            <div class="neon-text" style="font-weight: bold;" x-text="currentHoliday"></div>
            <div style="font-size: 0.8rem; font-style: italic; margin-top: 5px;" x-text="dailyQuote"></div>
        </div>
        <h3 class="neon-text">–ó–ê–ü–û–í–ï–î–ò –ú–ê–°–¢–ï–†–û–í</h3>
        <template x-for="(z, i) in zapovedi" :key="i">
            <div class="gost-card" style="font-size: 0.85rem;" x-text="(i+1) + '. ' + z"></div>
        </template>
    </div>

    <div :class="{ 'active': page === 2 }" class="page">
        <h3 class="neon-text">–†–ê–î–ò–û–†–£–ë–ö–ê</h3>
        <div style="height: 300px; overflow-y: auto; border: 1px solid var(--blue-tape); background: #000; padding: 10px; margin-bottom: 10px;">
            <template x-for="m in messages">
                <div style="margin-bottom: 10px; border-left: 2px solid var(--blue-tape); padding-left: 10px;">
                    <small class="neon-text" x-text="m.user"></small><br>
                    <span x-text="m.text"></span>
                </div>
            </template>
        </div>
        <div style="display: flex; gap: 5px;">
            <input type="text" x-model="msg" placeholder="–ü—Ä–∏—ë–º...">
            <button @click="sendMsg" style="background: var(--blue-tape); border: none; color: white; padding: 0 20px;">–ü–£–°–ö</button>
        </div>
    </div>

    <div :class="{ 'active': page === 4 }" class="page">
        <h3 class="neon-text">–ì–û–°–¢ 24705 (–†–ï–ó–¨–ë–´)</h3>
        
        <table>
            <thead><tr><th>M</th><th>–®–∞–≥</th><th>–°–≤–µ—Ä–ª–æ</th></tr></thead>
            <tbody>
                <template x-for="r in rezba">
                    <tr><td x-text="r.m"></td><td x-text="r.s"></td><td x-text="r.d" class="neon-text"></td></tr>
                </template>
            </tbody>
        </table>
        
        <h3 class="neon-text" style="margin-top: 25px;">–î–ò–ê–ì–ù–û–°–¢–ò–ö–ê OBD-II</h3>
        <input type="text" x-model="obdQuery" placeholder="P0300...">
        <div style="margin-top: 10px; padding: 15px; background: #000; border: 1px solid var(--neon); min-height: 40px;" x-text="scanOBD()"></div>
    </div>

    <div :class="{ 'active': page === 8 }" class="page">
        <h3 class="neon-text">–°–í–Ø–ó–¨ –ò –ù–ê–°–¢–†–û–ô–ö–ò</h3>
        <div id="qrcode" style="display: flex; justify-content: center; background: #fff; padding: 15px; border: 4px solid var(--blue-tape);"></div>
        <p style="text-align: center; font-size: 0.7rem; margin-top: 15px;">QR-–ö–û–î –î–õ–Ø –í–•–û–î–ê –° –î–†–£–ì–û–ì–û –£–°–¢–†–û–ô–°–¢–í–ê</p>
    </div>

    <nav class="nav-bar">
        <div class="nav-item" :class="{'active-nav': page === 1}" @click="setPage(1)"><i data-lucide="home"></i></div>
        <div class="nav-item" :class="{'active-nav': page === 2}" @click="setPage(2)"><i data-lucide="message-circle"></i></div>
        <div class="nav-item" :class="{'active-nav': page === 4}" @click="setPage(4)"><i data-lucide="wrench"></i></div>
        <div class="nav-item" :class="{'active-nav': page === 8}" @click="setPage(8)"><i data-lucide="settings"></i></div>
    </nav>

    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.data('artelCore', () => ({
                page: 1,
                msg: '',
                messages: [{user: '–°–ò–°–¢–ï–ú–ê', text: '–°–º–µ–Ω–∞ –Ω–∞—á–∞—Ç–∞. –°–≤—è–∑—å –≤ –Ω–æ—Ä–º–µ.'}],
                obdQuery: '',
                currentHoliday: '–ë—É–¥–Ω–∏ –≤ –ê—Ä—Ç–µ–ª–∏',
                dailyQuote: '–ï—Å–ª–∏ –Ω–µ –∫—Ä—É—Ç–∏—Ç—Å—è ‚Äî –≤–æ–∑—å–º–∏ —Ä—ã—á–∞–≥ –±–æ–ª—å—à–µ.',
                
                zapovedi: [
                    "–¢–ë ‚Äî –Ω–µ –¥–æ–≥–º–∞, –∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è.",
                    "–°–∏–Ω—è—è –∏–∑–æ–ª–µ–Ω—Ç–∞ –ª–µ—á–∏—Ç –≤—Å—ë.",
                    "–õ–∏—à–Ω—è—è –¥–µ—Ç–∞–ª—å ‚Äî —ç—Ç–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–µ—Å–∞.",
                    "–ú–∞—Ç ‚Äî —É—Å–∫–æ—Ä–∏—Ç–µ–ª—å –ø—Ä–æ—Ü–µ—Å—Å–∞."
                ],
                
                rezba: [
                    {m:'M6', s:'1.0', d:'5.0'}, 
                    {m:'M8', s:'1.25', d:'6.8'}, 
                    {m:'M10', s:'1.5', d:'8.5'}, 
                    {m:'M12', s:'1.75', d:'10.2'}
                ],

                init() {
                    this.renderIcons();
                    this.generateQR();
                },

                setPage(p) {
                    this.page = p;
                    this.$nextTick(() => this.renderIcons());
                },

                renderIcons() {
                    if (window.lucide) {
                        lucide.createIcons();
                    }
                },

                sendMsg() {
                    if (!this.msg) return;
                    this.messages.push({user: '–ú–ê–°–¢–ï–†', text: this.msg});
                    this.msg = '';
                },

                scanOBD() {
                    const codes = {
                        "P0300": "–ü—Ä–æ–ø—É—Å–∫–∏ –∑–∞–∂–∏–≥–∞–Ω–∏—è. –ü—Ä–æ–≤–µ—Ä—å —Å–≤–µ—á–∏.",
                        "P0171": "–ë–µ–¥–Ω–∞—è —Å–º–µ—Å—å. –ò—â–∏ –ø–æ–¥—Å–æ—Å –≤–æ–∑–¥—É—Ö–∞.",
                        "P0500": "–î–∞—Ç—á–∏–∫ —Å–∫–æ—Ä–æ—Å—Ç–∏. –û–±–æ—Ä–≤–∞–Ω–∞ —Ü–µ–ø—å."
                    };
                    return codes[this.obdQuery.toUpperCase()] || "–ö–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω. –ü–æ–ø—Ä–æ–±—É–π –æ–±–º–æ—Ç–∞—Ç—å –∏–∑–æ–ª–µ–Ω—Ç–æ–π.";
                },

                generateQR() {
                    if (window.qrcode) {
                        const qr = qrcode(0, 'M');
                        qr.addData(window.location.href);
                        qr.make();
                        document.getElementById('qrcode').innerHTML = qr.createImgTag(5);
                    }
                }
            }));
        });
    </script>
</body>
</html>
