<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–†–¢–ï–õ–¨ –§–û–†–î–û–í–ê –ò –ë–ï–ù–¶–û–í–ê</title>
    <script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>
    <style>
        :root {
            --blue-tape: #0047ab;
            --steel: #b8c2c9;
            --oil: #1a1a1a;
            --rust: #8b4513;
            --nixie: #ff8c00;
        }

        body {
            background-color: var(--oil);
            color: var(--steel);
            font-family: 'Courier New', Courier, monospace;
            margin: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* –°—Ç–∏–ª—å "–ò–Ω–∂–µ–Ω–µ—Ä–Ω–∞—è –ò–∑–æ–ª–µ–Ω—Ç–∞" */
        header {
            border-bottom: 5px solid var(--blue-tape);
            padding: 20px;
            text-align: center;
            background: linear-gradient(to bottom, #333, var(--oil));
        }

        .nixie-lamp {
            display: inline-block;
            color: var(--nixie);
            text-shadow: 0 0 10px var(--nixie);
            border: 1px solid rgba(255,140,0,0.3);
            padding: 5px 10px;
            border-radius: 5px;
            font-weight: bold;
        }

        nav {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            background: #222;
            padding: 10px;
        }

        .btn-toggle {
            background: var(--steel);
            border: 3px outset #888;
            color: #000;
            padding: 10px 15px;
            cursor: pointer;
            font-weight: bold;
            text-transform: uppercase;
        }

        .btn-toggle:active { border-style: inset; }

        main { flex: 1; padding: 20px; max-width: 800px; margin: auto; }

        .card {
            border: 2px solid #444;
            padding: 15px;
            margin-bottom: 20px;
            background: rgba(255,255,255,0.05);
        }

        /* 404 –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è */
        .error-404 {
            text-align: center;
            color: var(--rust);
        }
    </style>
</head>
<body>

<header>
    <h1>‚öôÔ∏è –ê–†–¢–ï–õ–¨ –§–û–†–î–û–í–ê –ò –ë–ï–ù–¶–û–í–ê ‚öôÔ∏è</h1>
    <div class="nixie-lamp" id="status-lamp">–ò–ù-14: –°–ï–¢–¨</div>
</header>

<nav>
    <button class="btn-toggle" onclick="showPage('rules')">–£—Å—Ç–∞–≤</button>
    <button class="btn-toggle" onclick="showPage('chat')">–ß–∞—Ç</button>
    <button class="btn-toggle" onclick="showPage('stash')">–ó–∞–Ω–∞—á–∫–∞</button>
    <button class="btn-toggle" onclick="showPage('settings')">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
</nav>

<main id="content">
    </main>

<script>
    const gun = Gun(['https://gun-manhattan.herokuapp.com/gun']);
    const app = document.getElementById('content');

    const pages = {
        rules: `
            <div class="card">
                <h2>üìã 10 –ó–ê–ü–û–í–ï–î–ï–ô</h2>
                <p>1. –°–∏–Ω—è—è –∏–∑–æ–ª–µ–Ω—Ç–∞ ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–ª–µ–π. –ï—Å–ª–∏ –Ω–µ –¥–µ—Ä–∂–∏—Ç ‚Äî –∑–Ω–∞—á–∏—Ç, –º–∞–ª–æ –Ω–∞–º–æ—Ç–∞–ª.</p>
                <p>2. –ó–∞–∫–æ–Ω –ª–∏—à–Ω–µ–π –¥–µ—Ç–∞–ª–∏: –û—Å—Ç–∞–ª–∏—Å—å –±–æ–ª—Ç—ã? –≠—Ç–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–µ—Å–∞!</p>
                <button class="btn-toggle" style="background:var(--blue-tape); color:white;">–ì–û–°–¢–Ω–æ üëç</button>
            </div>
        `,
        chat: `
            <div class="card">
                <h2>üìü –ì–ê–†–ê–ñ–ù–´–ô –ß–ê–¢</h2>
                <div id="msg-box" style="height:200px; overflow-y:auto; background:#000; padding:10px; margin-bottom:10px; color:#0f0;"></div>
                <input type="text" id="msg-input" style="width:70%; padding:10px;" placeholder="–ü–∏—à–∏ –ø–æ –¥–µ–ª—É...">
                <button class="btn-toggle" onclick="send()">–ü–£–°–ö</button>
            </div>
        `,
        stash: `
            <div class="card">
                <h2>üí∞ –ó–ê–ù–ê–ß–ö–ê</h2>
                <p>–ó–¥–µ—Å—å –ø–æ–∫–∞ –ø—É—Å—Ç–æ, –∫–∞–∫ –≤ –±–∞–∫–µ –ø–µ—Ä–µ–¥ –∑–∞—Ä–ø–ª–∞—Ç–æ–π.</p>
            </div>
        `
    };

    function showPage(p) {
        app.innerHTML = pages[p] || `<div class="error-404"><h2>–°–∏—Å—Ç–µ–º–∞ –¥–∞–ª–∞ —Ç–µ—á—å. –ú–æ—Ç–∞–π –∏–∑–æ–ª–µ–Ω—Ç—É!</h2></div>`;
        if(p === 'chat') listenChat();
    }

    function listenChat() {
        gun.get('artel_v1_chat').map().once(data => {
            if(data && data.text) {
                const node = document.createElement('div');
                node.innerText = `> ${data.text}`;
                document.getElementById('msg-box').appendChild(node);
            }
        });
    }

    function send() {
        const val = document.getElementById('msg-input').value;
        if(val) {
            gun.get('artel_v1_chat').set({text: val});
            document.getElementById('msg-input').value = '';
        }
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    showPage('rules');

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ñ–ª–∞–π–Ω–∞
    window.addEventListener('offline', () => {
        document.getElementById('status-lamp').innerText = "–ò–ù-14: –û–§–õ–ê–ô–ù";
        document.getElementById('status-lamp').style.color = "red";
    });
</script>

</body>
</html>
// –î–æ–±–∞–≤—å—Ç–µ –≤ –æ–±—ä–µ–∫—Ç pages
pages.settings = `
    <div class="card">
        <h2>‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ò –û–ë–û–†–£–î–û–í–ê–ù–ò–Ø</h2>
        <p>–¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è:</p>
        <select onchange="document.body.className = this.value" style="padding:10px; width:100%;">
            <option value="theme-standard">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è (–ú–∞–∑—É—Ç)</option>
            <option value="theme-rust">–†–∂–∞–≤—ã–π –≥–∞—Ä–∞–∂</option>
            <option value="theme-clean">–ß–∏—Å—Ç—ã–π –±–æ–∫—Å (–°–≤–µ—Ç–ª–∞—è)</option>
            <option value="theme-neon">–ù–æ—á–Ω–∞—è —Å–º–µ–Ω–∞ (–ù–µ–æ–Ω)</option>
            <option value="theme-tape">–°–∏–Ω—è—è –∏–∑–æ–ª–µ–Ω—Ç–∞ (Extreme)</option>
        </select>
        <br><br>
        <button class="btn-toggle" onclick="alert('–î–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ .bolt —Ñ–∞–π–ª')">–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</button>
    </div>
`;
