<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê—Ä—Ç–µ–ª—å –§–æ—Ä–¥–æ–≤–∞ –∏ –ë–µ–Ω—Ü–æ–≤–∞ | –°–ò–ù–Ø–Ø –ò–ó–û–õ–ï–ù–¢–ê</title>
    <style>
        :root {
            /* –¢–µ–º–∞: –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –ò–∑–æ–ª–µ–Ω—Ç–∞ */
            --p: #0047AB; --sec: #C0C0C0; --oil: #333333;
            --bg: #f4f4f4; --text: #1a1a1a; --nixie: #ff6600;
        }

        /* –¢–µ–º—ã –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è */
        [data-theme="dark"] { --bg: #1a1a1a; --text: #f5f5f5; --p: #0047AB; --sec: #2d2d2d; }
        [data-theme="rust"] { --bg: #2d1b0f; --text: #ffd700; --p: #b7410e; --sec: #8b4513; }
        [data-theme="chrome"] { --bg: #c0c0c0; --text: #000000; --p: #404040; --sec: #808080; }

        body { font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; background: var(--bg); color: var(--text); transition: 0.3s; padding-bottom: 70px; }
        
        /* –®–∞–ø–∫–∞ —Å –Ω–µ–æ–Ω–æ–≤–æ–π –ª–∞–º–ø–æ–π */
        header { background: var(--p); color: white; padding: 15px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
        .nixie-bulb { width: 15px; height: 15px; background: var(--nixie); border-radius: 50%; box-shadow: 0 0 10px var(--nixie); animation: flicker 3s infinite; }
        @keyframes flicker { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        nav { position: fixed; bottom: 0; width: 100%; background: var(--sec); display: flex; justify-content: space-around; padding: 10px 0; border-top: 2px solid var(--p); z-index: 100; }
        .nav-btn { background: none; border: none; font-size: 20px; cursor: pointer; color: var(--text); opacity: 0.6; transition: 0.3s; }
        .nav-btn.active { opacity: 1; transform: scale(1.2); color: var(--p); }

        .container { padding: 15px; max-width: 900px; margin: 0 auto; }
        .page { display: none; animation: fadeIn 0.4s; }
        .page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .card { background: white; border-radius: 8px; padding: 15px; margin-bottom: 15px; box-shadow: 4px 4px 0 var(--sec); border: 1px solid var(--sec); color: #333; }
        [data-theme="dark"] .card, [data-theme="rust"] .card { background: #262626; color: white; }

        /* –ö–∞–ª–µ–Ω–¥–∞—Ä—å */
        .cal-grid { display: grid; grid-template-cols: repeat(7, 1fr); gap: 5px; text-align: center; }
        .cal-day { padding: 10px 2px; background: rgba(0,0,0,0.05); border-radius: 4px; font-weight: bold; font-size: 13px; position: relative; }
        .cal-day.today { background: var(--p); color: white; }
        .cal-day.holiday { color: #d32f2f; }
        .cal-note-mark { position: absolute; top: 2px; right: 2px; width: 5px; height: 5px; background: var(--nixie); border-radius: 50%; }

        /* –¢–∞–±–ª–∏—Ü—ã —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ */
        table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 14px; }
        th, td { border: 1px solid var(--sec); padding: 8px; text-align: left; }
        th { background: var(--p); color: white; }

        .btn-–ø—É—Å–∫ { background: var(--p); color: white; border: none; padding: 12px; border-radius: 4px; width: 100%; font-weight: bold; cursor: pointer; text-transform: uppercase; }
        input, textarea, select { width: 100%; padding: 10px; margin: 10px 0; border: 1px solid var(--sec); border-radius: 4px; box-sizing: border-box; background: var(--bg); color: var(--text); }
    </style>
</head>
<body data-theme="classic">

<header>
    <div style="display: flex; align-items: center; gap: 10px;">
        <svg width="30" height="30" viewBox="0 0 100 100"><rect width="100" height="100" fill="white" rx="10"/><path d="M20 50 Q50 20 80 50 T110 50" stroke="#0047AB" stroke-width="10" fill="none"/><text x="50" y="65" font-family="Arial Black" font-size="40" fill="#0047AB" text-anchor="middle">Si</text></svg>
        <span style="font-weight: 900; letter-spacing: 1px;">–ê–†–¢–ï–õ–¨ Si</span>
    </div>
    <div class="nixie-status" style="display: flex; align-items: center; gap: 8px;">
        <span style="font-size: 12px; font-family: monospace;">–ò–ù-14:–û–ö</span>
        <div class="nixie-bulb"></div>
    </div>
</header>

<div class="container">
    <section id="page-cal" class="page active">
        <div class="card">
            <h3 id="cal-month-title" style="margin-top:0"></h3>
            <div class="cal-grid" id="cal-render"></div>
        </div>
        <div class="card" style="border-left: 5px solid var(--nixie);">
            <small><b>–°–û–í–ï–¢ –ú–ê–°–¢–û–î–û–ù–¢–ê:</b></small>
            <p id="daily-wisdom" style="font-style: italic; margin: 5px 0 0 0;"></p>
        </div>
    </section>

    <section id="page-stock" class="page">
        <div class="card">
            <h3>üì¶ –°–∫–ª–∞–¥ –ø–æ–¥ –≤–µ—Ä—Å—Ç–∞–∫–æ–º</h3>
            <p style="font-size: 12px;">–£—á–µ—Ç –¥–µ—Ñ–∏—Ü–∏—Ç–∞ –∏ –∑–∞–ø—á–∞—Å—Ç–µ–π (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ)</p>
            <textarea id="stock-area" rows="12" placeholder="–ù–∞–ø–∏—à–∏, —á—Ç–æ –ª–µ–∂–∏—Ç –≤ –∑–∞–Ω–∞—á–∫–µ..."></textarea>
            <button class="btn-–ø—É—Å–∫" onclick="saveData('stock', 'stock-area')">–ü–£–°–ö (–°–û–•–†–ê–ù–ò–¢–¨)</button>
        </div>
    </section>

    <section id="page-ref" class="page">
        <div class="card">
            <h3>‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫</h3>
            <select id="ref-select" onchange="renderRef()">
                <option value="threads">–ú–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ —Ä–µ–∑—å–±—ã</option>
                <option value="bearings">–ü–æ–¥—à–∏–ø–Ω–∏–∫–∏ (–±–∞–∑–æ–≤—ã–µ)</option>
                <option value="dtc">–ö–æ–¥—ã –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π (DTC)</option>
            </select>
            <div id="ref-table-container"></div>
        </div>
    </section>

    <section id="page-settings" class="page">
        <div class="card">
            <h3>üõ† –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</h3>
            <label>–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:</label>
            <select onchange="setTheme(this.value)" id="theme-selector">
                <option value="classic">–°–∏–Ω—è—è –∏–∑–æ–ª–µ–Ω—Ç–∞</option>
                <option value="dark">–ù–æ—á–Ω–æ–π —Ä–µ–∂–∏–º</option>
                <option value="rust">–†–∂–∞–≤—á–∏–Ω–∞ (Old School)</option>
                <option value="chrome">–•—Ä–æ–º (–ì–∞–ª—å–≤–∞–Ω–∏–∫–∞)</option>
            </select>
        </div>
        <div class="card" style="text-align: center;">
            <p>–í–µ—Ä—Å–∏—è: 3.0-–ì–û–°–¢</p>
            <p style="color: gray; font-size: 10px;">–ê—Ä—Ç–µ–ª—å –§–æ—Ä–¥–æ–≤–∞ –∏ –ë–µ–Ω—Ü–æ–≤–∞ &copy; 2026</p>
        </div>
    </section>
</div>

<nav>
    <button class="nav-btn active" onclick="showPage('cal')">üìÖ</button>
    <button class="nav-btn" onclick="showPage('stock')">üì¶</button>
    <button class="nav-btn" onclick="showPage('ref')">‚öôÔ∏è</button>
    <button class="nav-btn" onclick="showPage('settings')">üõ†</button>
</nav>

<script>
    // --- –î–ê–ù–ù–´–ï ---
    const holidays = {"01-01":"–ù–æ–≤—ã–π –≥–æ–¥","01-07":"–†–æ–∂–¥–µ—Å—Ç–≤–æ","03-08":"8 –ú–∞—Ä—Ç–∞","05-01":"–ü—Ä–∞–∑–¥–Ω–∏–∫ —Ç—Ä—É–¥–∞","05-09":"–î–µ–Ω—å –ü–æ–±–µ–¥—ã","07-03":"–î–µ–Ω—å –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏"};
    const quotes = [
        "–ï—Å–ª–∏ –Ω–µ –¥–µ—Ä–∂–∏—Ç ‚Äî –∑–Ω–∞—á–∏—Ç, –º–∞–ª–æ –º–æ—Ç–∞–ª.",
        "–õ–∏—à–Ω—è—è –¥–µ—Ç–∞–ª—å ‚Äî —ç—Ç–æ —Ç–≤–æ—è –∑–∞—Å–ª—É–≥–∞ –≤ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤–µ—Å–∞.",
        "–¢–ë ‚Äî –Ω–µ –¥–æ–≥–º–∞, –∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è.",
        "–ú–∞—Ç ‚Äî —É—Å–∫–æ—Ä–∏—Ç–µ–ª—å –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø—Ä–∏–∫–∏–ø–µ–≤—à–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.",
        "–°–∏–Ω—è—è –∏–∑–æ–ª–µ–Ω—Ç–∞ –ª–µ—á–∏—Ç –¥–∞–∂–µ —Ä–∞–∑–±–∏—Ç–æ–µ —Å–µ—Ä–¥—Ü–µ."
    ];
    const refData = {
        threads: [["M6","1.0","5.0"], ["M8","1.25","6.8"], ["M10","1.5","8.5"], ["M12","1.75","10.2"]],
        bearings: [["203","17","40","12"], ["205","25","52","15"], ["302","15","42","13"]],
        dtc: [["P0101","–î–ú–†–í","–û—à–∏–±–∫–∞ —Å–∏–≥–Ω–∞–ª–∞"], ["P0300","–ó–∞–∂–∏–≥–∞–Ω–∏–µ","–ü—Ä–æ–ø—É—Å–∫–∏"], ["P0420","–ö–∞—Ç–∞–ª–∏–∑–∞—Ç–æ—Ä","–ù–∏–∑–∫–∞—è —ç—Ñ—Ñ–µ–∫—Ç."]]
    };

    // --- –õ–û–ì–ò–ö–ê ---
    function showPage(id) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('page-' + id).classList.add('active');
        event.currentTarget.classList.add('active');
    }

    function initCal() {
        const now = new Date();
        const grid = document.getElementById('cal-render');
        const days = new Date(now.getFullYear(), now.getMonth() + 1, 0).getDate();
        document.getElementById('cal-month-title').innerText = new Intl.DateTimeFormat('ru-RU', {month:'long', year:'numeric'}).format(now).toUpperCase();
        
        grid.innerHTML = '';
        for(let i=1; i<=days; i++) {
            const dateStr = `${String(now.getMonth()+1).padStart(2,'0')}-${String(i).padStart(2,'0')}`;
            const isToday = i === now.getDate();
            const isHoliday = holidays[dateStr];
            grid.innerHTML += `<div class="cal-day ${isToday?'today':''} ${isHoliday?'holiday':''}">${i}</div>`;
        }
        document.getElementById('daily-wisdom').innerText = quotes[Math.floor(Math.random()*quotes.length)];
    }

    function renderRef() {
        const type = document.getElementById('ref-select').value;
        const data = refData[type];
        let html = '<table><tr>';
        const headers = {threads:['–†–µ–∑—å–±–∞','–®–∞–≥','–°–≤–µ—Ä–ª–æ'], bearings:['‚Ññ','d','D','B'], dtc:['–ö–æ–¥','–£–∑–µ–ª','–°—É—Ç—å']};
        headers[type].forEach(h => html += `<th>${h}</th>`);
        html += '</tr>';
        data.forEach(row => {
            html += '<tr>' + row.map(cell => `<td>${cell}</td>`).join('') + '</tr>';
        });
        document.getElementById('ref-table-container').innerHTML = html + '</table>';
    }

    function setTheme(t) {
        document.body.setAttribute('data-theme', t);
        localStorage.setItem('artel_theme', t);
    }

    function saveData(key, elId) {
        localStorage.setItem('artel_' + key, document.getElementById(elId).value);
        alert("–ì–û–°–¢–Ω–æ! –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã.");
    }

    window.onload = () => {
        initCal();
        renderRef();
        document.getElementById('stock-area').value = localStorage.getItem('artel_stock') || '';
        const savedTheme = localStorage.getItem('artel_theme') || 'classic';
        setTheme(savedTheme);
        document.getElementById('theme-selector').value = savedTheme;
    };
</script>

</body>
</html>
